@page "/info"
@inject IJSRuntime JSRuntime;
@inject IHowl howl;

<div>
    <button type="button" class="btn btn-primary" @onclick="HowlPlay">Howl:play</button>
    <button type="button" class="btn btn-primary" @onclick="HowlSeek">Howl:seek</button>
    <button type="button" class="btn btn-primary" @onclick="HowlStop">Howl:stop</button>
    <pre>Time : @CurrentTime / @TotalTime</pre>
</div>

<button type="button" class="btn btn-primary" @onclick="ConvertArray">
    Convert Array
</button>

<p class="mt-2" style="font-size:1.6em">
    <span class="badge badge-success">
        @ConvertedText
    </span>
</p>

@code {
    private const string TIME_ZERO = "00:00:00";
    protected string CurrentTime { get; set; } = TIME_ZERO;

    protected string TotalTime { get; set; } = TIME_ZERO;

    private DotNetObjectReference<Info> dotNetObjectReference;

    protected override void OnInitialized()
    {
        var timer = new System.Threading.Timer(async state => { await InvokeAsync(OnTimerCallback); }, null, 0, 249);

        //dotNetObjectReference = DotNetObjectReference.Create<Info>(this);

        howl.OnPlay = OnPlayEvent;
    }

    private void OnPlayEvent(TimeSpan totalTime)
    {
        TotalTime = $@"{totalTime:hh\:mm\:ss}";
    }

    private async Task OnTimerCallback()
    {
        var currentTime = await howl.GetCurrentTime();
        CurrentTime = $@"{currentTime:hh\:mm\:ss}";

        //if (_player.PlaybackState == PlaybackState.Playing)
        //{
        //    SliderValue = (int)_player.CurrentTime.TotalSeconds;

        //    if (_player.CurrentTime.Add(TimeSpan.FromMilliseconds(500)) > _player.TotalTime)
        //    {
        //        await _player.PlayNextAsync(CancellationToken.None);
        //    }
        //}

        StateHasChanged();
    }

    private MarkupString ConvertedText = new MarkupString("Select the <b>Convert Array</b> button.");

    private uint[] QuoteArray = new uint[]
        {
            60, 101, 109, 62, 67, 97, 110, 39, 116, 32, 115, 116, 111, 112, 32,
            116, 104, 101, 32, 115, 105, 103, 110, 97, 108, 44, 32, 77, 97,
            108, 46, 60, 47, 101, 109, 62, 32, 45, 32, 77, 114, 46, 32, 85, 110,
            105, 118, 101, 114, 115, 101, 10, 10,
                                    };

    private async Task ConvertArray()
    {
        var text = await JSRuntime.InvokeAsync<string>("exampleJsFunctions.convertArray", QuoteArray);

        ConvertedText = new MarkupString(text);

        StateHasChanged();
    }

    public int Duration { get; set; }

    //[JSInvokable]
    //public void OnPlay(int totalTime)
    //{
    //    TotalTime = $@"{TimeSpan.FromSeconds(totalTime):hh\:mm\:ss}"; ;
    //    StateHasChanged();
    //}

    private async Task HowlPlay()
    {
        var src = "data:audio/x-mp3;base64,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";
        int id = await howl.Play(src);
        //var r = DotNetObjectReference.Create<Info>(this);

        //var id = await JSRuntime.InvokeAsync<dynamic>("howl.play", dotNetObjectReference, "opus.opus");
        Console.WriteLine("id=" + id);

        var totalTime = howl.TotalTime;
        TotalTime = $@"{totalTime:hh\:mm\:ss}";

        //StateHasChanged();
    }

    private async Task HowlSeek()
    {
        await howl.Seek(TimeSpan.FromSeconds(55));
    }

    private async Task HowlStop()
    {
        //await JSRuntime.InvokeAsync<dynamic>("howl.stop");
        await howl.Stop();
    }

    //private async Task<TimeSpan> HowlCurrentTime()
    //{
    //    int currentTime = await JSRuntime.InvokeAsync<int>("howl.getCurrentTime");
    //    return TimeSpan.FromSeconds(currentTime);
    //}
}